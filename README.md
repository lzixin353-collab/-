# 菜谱管理系统

本地菜谱管理应用，使用 HTML + CSS + JavaScript 构建前端，IndexedDB 存储数据，无需后端即可在浏览器中管理个人菜谱、搜索筛选、智能抽签与每周菜单规划。

---

## 功能概览

### 页面结构

| 页面 | 说明 |
|------|------|
| **首页** | 搜索框、总菜谱数/收藏数/本周新增统计，以及跳转入口：菜谱、抽签、用户主页 |
| **菜谱** | 顶部搜索框 + 筛选标签（菜系 / 类型 / 难度），下方为菜谱卡片列表（图片 + 名称 + 标签），点击进入详情 |
| **抽签** | 智能抽签：按食材/时间/难度/类型筛选后，轮盘抽奖展示结果，可点击进入对应菜谱 |
| **用户主页** | 收藏夹、每周菜单规划（按周分配菜谱） |
| **菜谱详情** | 成品图、名称、描述、食材清单（文字+图）、步骤说明（文字+步骤图）、视频链接、准备/烹饪时间、难度、分类标签，支持收藏/编辑/删除 |
| **添加/编辑菜谱** | 完整表单：名称、描述、封面与步骤图（支持 PNG/JPG）、食材、步骤、视频、时间、难度、菜系/类型选择、食材标签与自定义标签 |

### 核心功能

- **菜谱管理**：添加、编辑、删除菜谱。
- **单道菜信息**：名称、菜描述、食材清单（文字+图片）、步骤说明（文字+步骤图）、视频教程、准备时间、烹饪时间、难度、分类标签。
- **食材标签**：每道菜可填食材标签（手动输入，逗号分隔）；在搜索框输入食材可匹配「包含该食材」的菜谱。

### 分类与标签

- **预设选择标签**（添加/编辑时点选）  
  - **菜系**：中餐、西餐、日韩料理、东南亚菜、中东菜、其他  
  - **类型**：主食类、主菜类、配菜类、汤羹类、点心甜品类、饮品类、酱料蘸料类  
  - **难度**：新手友好级、家庭厨师级、专业挑战级  
- **食材标签**：手动输入，逗号分隔，用于食材匹配搜索。  
- **自定义标签**：手动输入，用于个性化分类与搜索。

### 搜索

- 顶部**全局搜索框**：支持关键词搜索（菜名、描述、标签、食材）；可点击搜索图标或按 Enter 执行搜索并跳转到菜谱页展示结果。
- **菜谱页**：在关键词基础上，可叠加菜系、类型、难度等标签多条件筛选。

### 智能抽签

- 按**现有食材**（逗号分隔）推荐可做的菜。
- 可设过滤：**最大总时间**、**难度**、**类型**。
- **轮盘动画**抽签，结果以卡片形式展示，可点击进入菜谱详情。

### 收藏与每周菜单

- **收藏夹**：在菜谱详情页收藏/取消收藏，用户主页集中查看。
- **每周菜单**：在用户主页为当周周一～周日分配菜谱，数据保存在本地。

---

## 技术栈

- **前端**：HTML5、CSS3、原生 JavaScript（无框架）
- **存储**：IndexedDB（浏览器本地数据库）
- **运行**：任意现代浏览器，本地打开 `index.html` 或通过本地静态服务器访问

---

## 项目结构

```
recipe-manager/
├── index.html          # 主页面（导航、搜索框、各页面容器）
├── style.css           # 全局样式
├── README.md           # 说明文档（本文件）
├── js/
│   ├── db.js           # IndexedDB 封装（菜谱/分类/收藏/每周菜单）
│   └── app.js          # 应用逻辑（路由、渲染、筛选、抽签、表单）
├── assets/
│   ├── icons/          # 图标（如搜索图标 chack.png）
│   └── images/         # 可放置示例或默认图片
└── data/               # 可选：初始数据或导出用
    ├── recipes.json
    └── categories.json
```

---

## 使用说明

### 运行方式

1. **直接打开**  
   双击 `index.html` 用浏览器打开即可使用（部分环境下需允许本地存储）。

2. **本地服务器（推荐）**  
   若遇跨域或存储限制，可在项目根目录起一个静态服务，例如：
   ```bash
   npx serve .
   # 或
   python -m http.server 8080
   ```
   然后访问提示的地址（如 `http://localhost:3000`）。

### 基本流程

1. **首页**：在顶部输入关键词后可点击搜索图标或按 Enter，会跳转到「菜谱」页并显示搜索结果；也可通过入口进入菜谱、抽签、用户主页。
2. **菜谱页**：使用搜索框 + 菜系/类型/难度标签筛选，点击卡片进入详情。
3. **添加菜谱**：导航栏「➕ 添加菜谱」进入表单，填写信息并上传 PNG/JPG 图片，保存后可在菜谱列表与详情中看到。
4. **抽签**：在抽签页填写可用食材、时间/难度/类型（可选），点击「开始抽签」看轮盘结果并进入对应菜谱。
5. **用户主页**：管理收藏与当周每日菜单分配。

### 图片说明

- 支持 **PNG、JPG** 格式。
- 封面、食材图、步骤图在编辑页通过「上传」选择本地文件后，会以 Data URL 形式存入 IndexedDB，无需额外图片服务器。

---

## 数据存储说明

- 所有数据保存在**浏览器本地** IndexedDB（数据库名：`RecipeManagerDB`）。
- 清除浏览器该站点的数据或更换设备/浏览器后，数据不会同步，请根据需要自行备份（如导出 JSON）。
- 首次进入且无数据时，应用会写入两条示例菜谱（番茄炒蛋、红烧肉），便于体验功能。

---

## 浏览器兼容

建议使用支持 IndexedDB 与 ES6+ 的现代浏览器（如 Chrome、Edge、Firefox、Safari 较新版本）。

---

## 许可与说明

本项目为本地菜谱管理工具，不收集或上传任何数据，所有内容仅存于您的设备中。
